**SQlite Source Repository**

**Obtaining The Code**
    Lastest trunk check-in:_https://www.sqlite.org/src/tarball/sqlite.tar.gz_  
   
   
**Compiling**
    First create a directory in which to place the build products.It is recommended, but not required, that the build directory be separate from the source directory.
    
    ```
    $ tar xzvf sqlite.tar.gz    # Unpack the source tree into "sqlite" folder
    $ mkdir build               # Build will occur in a sibling directory
    $ cd build                  # Change to the build directory 
    $ ../sqlite/configure       # Run the cinfigure script 
    $ make                      # Run the makefile
    $ make sqlite3.c            # Build the "amalgamation" source file 
    $ make test                 # Run some tests (requires Tcl)
    
    **FAQ:**
        Error: tcl.h not found (no such file or directory)
            - This means you're missing the tcl development files.
            - $ sudo apt-get install tcl8.6-dev 
    ``` 

**Source Code Tour**
    
    src/
        shell.c -- main program for the "sqlite3.exe" command-line shell
        tclsqlite.c -- Tcl bindings for SQLite 
    
    Most of the code sources files are in the _src/_  subdirectory. The src/ folder alos contains files used to build the "testfixture" test harness.
    The names of the source files used by "testfixture" all begin with "test".
    
    test/
        Test scripts and programs 
    ext/
        fts3/ -- The Full-text search engine 
        rtree/ -- The R-Tree engine 
        misc/ -- contains a number of smaller, single-file extensions, such as a REGEXP operator 
    tool/
        subdirectory contains various scripts and programs used for building generated source code files or for testing or for generating accessory programs

**Generated Source Code Files**
    
    Server of the C-language source files used by SQLite are generated from other sources rather than being typed in manually by a programmer.
    To create all of the automatically-generated files, simply run "make target_source". The "target_source" make target will create a subdirectory "tsrc/" and fill it with all the source files needed to build SQLite, both manually-edited files and automatically -generated files.
    tsrc/
        sqlite3.h -- header file. which is really just a copy of src/sqlite.h.in with the source-id and version number inserted at just the right spots.
    
    ./manifest.uuid --  contains the SHA3 hash of the particular check-in and is used to generate the SQLITE_SOURCE_ID marcro
    ./VERSION -- contains the current SQLite version number 
        parse.c -- The SQL language parser, which is generate from a grammar in the src/parse.y file. The conversion of "parse.y" into "parse.c" is done by the lemon LALR(1) parser generator.
                    The source code for lemon is at tool/lemon.c.Lemon uses the tool/lepar.c file as a template for generating its parser.
        parse.h -- Lemon generates the parse.h header file. at the same time it generates parse.c. But the parse.h header file is modified furture using the ./tool/addopcodes.tcl Tcl script.
        opcodes.h -- header file contains macros that define the numbers correspondig to opcode in the "VDBE" virtual machine.
                    The opcodes.h file is generated by the scanning the src/vdbe.c source file.
                    ./mkopcodeh.tcl does this scan and generates opcodes.h
                    ./mkopcodec.tcl then scans opcodes.h to generate the opcodes.c source file.
        opcodec.c -- which contains a reverse mapping from opcode-number to opcode-name that is used for EXPLAN output.
        keywordhash.h -- header file contains the definition of a hash table that maps SQL language keywords(ex:"CREATE","SELECT","INDEX",etc) into the numeric codes used by the parse.c parser.
                    The keywordhash.h file is generated by a C-language program at ./tool/mkkeywordhash.c 
        pragma.h -- header file contains various definitions used to parse and implement the PRAGMA statements.
                The header is generated by a script tool/mkpragmatab.tcl, if you want to add a new PRAGMA, edit the tool/mkpragmatab.tcl file to insert the information needed by the parser for your new PRAGMA, then run the scipr ro regenerate the pragma.h header file

**The Amalgamation**
    
    All of the individual C source code and header files (both manually-edited and automatically-generated) can be combined into a single big source file sqlite3.c called "the amalgamation"
    The amalgamation is the recommended way of using SQLite in a larger application. Combining all individual source code files into a single big source code file allows the C compiler to perform more cross-procedure analysis and generate better code.
    SQLite runs about 5% faster when compiled from the amalgamation versus when compiled from individual source file.
    
    tool/mksqlite3c.tcl Tcl script: The amalgamation if generated from 
        First, all of the individual source files must be gathered into the tsrc/ subdirectory (using the equivalent of "make target_source") then the tool/mksqlite3c.tcl script is run to copy them all together in just the right order while resolving internal "include" references.

**How It All Fits Together**
    
    
              
        
        